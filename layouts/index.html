{{ define "head" }}{{ if isset .Params "image" }}
<meta property="og:image" content='{{ path.Join "img" (.Param "image") }}'>{{ end }}
<link rel="stylesheet" href="/css/index.css">{{ end }}

{{ define "main" }}
<div id="banner" style='--url: url("/img/books.jpg")'>
  <link rel="stylesheet" href="/css/banner.css">
  <h1>{{ .Title }}</h1>{{- .Content -}}
</div>
<div id="main">
  <div id="sidebar">
    <link rel="stylesheet" href="/css/sidebar.css">
    <img id="headshot" src="/img/headshot.jpg" alt="headshot">
    <p id="author"> Austin Traver </p>
    <p id="tagline"> Teaching to avoid learning... </p>
    <ul id="plugs">
      <li>
        <a href="mailto:atraver@usc.edu">Email</a>
      </li>
      <li>
        <a href="https://helpful.wiki">Website</a>
      </li>
      <li>
        <a href="https://github.com/austintraver">GitHub</a>
      </li>
    </ul>
  </div>

  <div id="grid">
    {{ range where .Site.RegularPages "Section" "posts" }} {{ if fileExists (path.Join "static" "img" (.Param "image"))
    }}
    <a id="pagelink" href="{{ .File.ContentBaseName }}">
      <img id="teaser" src='{{ path.Join "img" (.Param "image") }}'/>
      <h1>{{.Title}}</h1>
      <h2>{{.Description}}</h2>
    </a>
    {{ end }} {{ end }}
  </div>
</div>{{ end }}
